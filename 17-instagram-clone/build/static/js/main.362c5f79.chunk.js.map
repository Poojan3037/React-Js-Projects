{"version":3,"sources":["reducer.js","context.js","firebase.js","Signin.js","Signup.js","Post.js","Home.js","ProfileBio.js","Profile.js","App.js","index.js"],"names":["reducer","state","action","type","user","payload","userPhoto","undefined","profilePosts","newData","filter","item","id","AppContext","createContext","AppProvider","children","useReducer","dispatcher","Provider","value","fire","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","storage","db","firestore","Signin","history","useHistory","useState","email","setEmail","password","setPassword","loading","setLoading","useEffect","push","className","src","alt","placeholder","onChange","e","target","onClick","console","log","signInWithEmailAndPassword","then","catch","alert","exact","to","Signup","username","setUsername","preventDefault","createUserWithEmailAndPassword","result","currentUser","updateProfile","displayName","Post","props","useContext","postId","deletePost","userCaption","userName","userEmail","userPostUrl","userProfileUrl","defaulValue","setDefaultValue","numberOfLike","setNumberOfLike","comment","setComment","addComment","setAddComment","moreComment","setMoreComment","unsuscribe","collection","doc","orderBy","onSnapshot","snapshot","items","forEach","data","length","countLikes","num","where","Avatar","delete","Rating","defaultValue","max","set","icon","fontSize","style","color","slice","map","add","time","FieldValue","serverTimestamp","Home","postItem","setPostItem","image","loadImage","loadPost","ProfileBio","boolean","status","setStatus","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","Profile","open","setOpen","setImage","openModal","setOpenModal","caption","setCaption","post","setPost","classes","modalStyle","arr","Modal","onClose","aria-labelledby","aria-describedby","files","ref","name","put","on","child","getDownloadURL","url","onSubmit","userPic","Date","getTime","toString","signOut","App","onAuthStateChanged","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.362c5f79.chunk.js","sourcesContent":["const reducer=(state,action)=>{\r\n\r\n    if(action.type===\"SET_USER\"){\r\n        return{\r\n            ...state,\r\n            user:action.payload\r\n        }\r\n    }\r\n\r\n    if(action.type===\"SET_PROFILE_PIC\"){\r\n        \r\n        return{\r\n            ...state,\r\n            userPhoto:action.payload\r\n        }\r\n    }\r\n\r\n\r\n    if(action.type===\"LOGOUT\"){\r\n        return{\r\n            ...state,\r\n            userPhoto:undefined,\r\n            user:''\r\n        }\r\n    }\r\n\r\n  \r\n    if(action.type===\"SET_PROFILE_POST\"){\r\n        return{\r\n            ...state,\r\n            profilePosts:action.payload\r\n        }\r\n    }\r\n\r\n    if(action.type===\"DELETE_PROFILE_POST\"){\r\n        let newData=state.profilePosts.filter((item)=>item.id!=action.payload)\r\n        return{\r\n            ...state,\r\n            profilePosts:newData\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default reducer;","import { createContext } from 'react';\r\nimport React, { useContext, useReducer } from 'react';\r\nimport reducer from './reducer';\r\n\r\nconst AppContext = createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n\r\n    let defalultValue = {\r\n        user: '',\r\n        userPhoto:'',\r\n        profilePosts:[]\r\n    }\r\n\r\n    const [state, dispatcher] = useReducer(reducer, defalultValue);\r\n\r\n    return (\r\n        <>\r\n            <AppContext.Provider\r\n                value={\r\n                    {\r\n                        ...state,\r\n                        dispatcher,\r\n                    }\r\n                }\r\n            >\r\n                {children}\r\n            </AppContext.Provider>\r\n        </>\r\n    )\r\n}\r\n\r\nexport {AppProvider,AppContext};\r\n\r\n\r\n","import firebase from \"firebase\";\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyATr-D8ypnXXavnMcIDtHuVdqMOj7R7oQc\",\r\n    authDomain: \"instagram-687d4.firebaseapp.com\",\r\n    projectId: \"instagram-687d4\",\r\n    storageBucket: \"instagram-687d4.appspot.com\",\r\n    messagingSenderId: \"694535110658\",\r\n    appId: \"1:694535110658:web:3a276d1eb90ada6c1ce71b\"\r\n  };\r\n\r\nlet fire=firebase.initializeApp(firebaseConfig);\r\nlet auth=fire.auth();\r\nlet storage=fire.storage();\r\nlet db=fire.firestore();\r\n\r\nexport {auth,storage,db};\r\n\r\n\r\n","import React, { useState ,useContext,useEffect } from 'react';\r\nimport './Signin.css';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { auth } from './firebase';\r\nimport { AppContext } from './context';\r\n\r\n\r\nconst Signin = () => {\r\n\r\n    let history=useHistory();\r\n\r\n    const [email,setEmail]=useState('');\r\n    const [password,setPassword]=useState('');\r\n    const [loading,setLoading]=useState(false);\r\n\r\n    const handleSubmit=()=>{\r\n\r\n        console.log('d')\r\n\r\n        auth.signInWithEmailAndPassword(email,password)\r\n        .then(()=>{  \r\n            setLoading(true);\r\n        })\r\n        .catch((e)=>alert(e));\r\n        setEmail('');\r\n        setPassword('');  \r\n    }\r\n\r\n    \r\n    useEffect(()=>{\r\n        if(loading){\r\n            history.push('/home')\r\n            setLoading(false)\r\n        }\r\n    },[loading])\r\n    \r\n\r\n    return (\r\n        <>\r\n            <div className=\"signin-container\">\r\n                <div className=\"signin\">\r\n                    <div className=\"signin-top\">\r\n                        <div className=\"signin-logo\">\r\n                            <img className=\"instagram-login-logo\" src=\"logo.png\" alt=\"instagram\" />\r\n                        </div>\r\n                        <div className=\"signin-form\">\r\n                            <input className=\"input-field\" placeholder=\"Email\" type=\"email\"  value={email} onChange={(e)=>setEmail(e.target.value)} />\r\n                            <input className=\"input-field\" placeholder=\"Password\" type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)}/>\r\n                            <button  onClick={handleSubmit} className=\"btn\">Log In</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"signin-bottom\">\r\n                        <h5>Don't have an account? <NavLink className=\"navlink-style\" exact to=\"/signup\">Sign up</NavLink></h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Signin;","import React, { useContext, useState } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport './Signup.css';\r\nimport { auth } from './firebase';\r\nimport { AppContext} from './context';\r\n\r\nconst Signup=()=>{\r\n\r\n   let history=useHistory();\r\n\r\n    let [username,setUsername]=useState('');\r\n    let [email,setEmail]=useState('');\r\n    let [password,setPassword]=useState('');\r\n\r\n\r\n    const handleSignup=(e)=>{\r\n        e.preventDefault();\r\n        auth.createUserWithEmailAndPassword(email,password)\r\n        .then((result)=>{\r\n            const currentUser=auth.currentUser;\r\n            return currentUser.updateProfile({\r\n                displayName:username\r\n            })\r\n        })\r\n        .catch((e)=>alert(e))\r\n        \r\n        history.push('/home');\r\n        setPassword('');\r\n        setUsername('');\r\n        setEmail('');\r\n\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n            <div className=\"signin-container\">\r\n                <div className=\"signin\">\r\n                    <div className=\"signin-top\">\r\n                        <div className=\"signin-logo\">\r\n                            <img className=\"instagram-login-logo\" src=\"logo.png\" alt=\"instagram\" />\r\n                            <h3>Sign up to see photos and videos from your friends.</h3>\r\n                        </div>\r\n                        <div className=\"signin-form\">\r\n                            <input className=\"input-field\" placeholder=\"Username\" type=\"text\" value={username} onChange={(e)=>setUsername(e.target.value)}/>\r\n                            <input className=\"input-field\" placeholder=\"Email\" type=\"email\" value={email} onChange={(e)=>setEmail(e.target.value)}/>\r\n                            <input className=\"input-field\" placeholder=\"Password\" type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)}/>\r\n                            <button type=\"submit\" onClick={handleSignup} className=\"btn\" >Sign up</button>\r\n                            <h5>By signing up, you agree to our<span> Terms , Data Policy </span>and <span>Cookies Policy .</span></h5>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"signin-bottom\">\r\n                        <h5>Have an account? <NavLink className=\"navlink-style\" exact to=\"/\">Log in</NavLink></h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Signup;","import React, { useContext, useEffect, useState } from 'react';\r\nimport './Post.css';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport { db } from './firebase';\r\nimport { AppContext } from './context';\r\nimport firebase from 'firebase';\r\n\r\n\r\n\r\nconst Post = (props) => {\r\n\r\n\r\n    let { user, dispatcher } = useContext(AppContext);\r\n\r\n    let { item, postId, deletePost } = props;\r\n\r\n    let { userCaption, userEmail, userName, userPostUrl, userProfileUrl } = item;\r\n\r\n    let [defaulValue, setDefaultValue] = useState(0);\r\n    let [numberOfLike, setNumberOfLike] = useState(0);\r\n    let [comment, setComment] = useState([]);\r\n    let [addComment, setAddComment] = useState('');\r\n    let [moreComment, setMoreComment] = useState(false);\r\n    let [loading, setLoading] = useState(false);\r\n\r\n    const deletePostFromProfile = () => {\r\n        db.collection(\"Post\").doc(postId).delete();\r\n        dispatcher({ type: \"DELETE_PROFILE_POST\", payload: postId })\r\n    }\r\n\r\n\r\n    const handleCommentUpload = () => {\r\n        db.collection(\"Post\").doc(postId).collection(\"Comments\").add({\r\n            time: firebase.firestore.FieldValue.serverTimestamp(),\r\n            comment: addComment,\r\n            userName: user.displayName\r\n        }).then(() => {\r\n            setAddComment('');\r\n        })\r\n    }\r\n\r\n    const handleLikes = () => {\r\n        if (defaulValue === 0) {\r\n            db.collection(\"Post\").doc(postId).collection(\"Likes\").doc(user.email).set({ userName: user.email })\r\n            countLikes();\r\n            setDefaultValue(1)\r\n        }\r\n        if (defaulValue === 1) {\r\n            db.collection(\"Post\").doc(postId).collection(\"Likes\").doc(user.email).delete();\r\n            countLikes();\r\n            setDefaultValue(0)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        let unsuscribe = db.collection(\"Post\").doc(postId).collection(\"Comments\").orderBy(\"time\", \"desc\").onSnapshot((snapshot) => {\r\n            let items = []\r\n            snapshot.forEach((doc) => {\r\n                items.push(doc.data())\r\n            })\r\n            if (items.length > 2) {\r\n                setMoreComment(true)\r\n            } else {\r\n                setMoreComment(false)\r\n            }\r\n            setComment(items)\r\n            setLoading(true)\r\n        })\r\n\r\n        return (() => {\r\n            unsuscribe();\r\n        })\r\n    }, [postId])\r\n\r\n\r\n    const loadLikes = () => {\r\n        db.collection(\"Post\").doc(postId).collection(\"Likes\").where(\"userName\", \"==\", user.email).onSnapshot((snapshot) => {\r\n            snapshot.forEach((doc) => {\r\n                setDefaultValue(1);\r\n                setLoading(true);\r\n            })\r\n        })\r\n    }\r\n\r\n    const countLikes = () => {\r\n        let num = 0;\r\n        db.collection(\"Post\").doc(postId).collection(\"Likes\").onSnapshot((snapshot) => {\r\n            snapshot.forEach((doc) => {\r\n                num++;\r\n            })\r\n            setNumberOfLike(num)\r\n            setLoading(true);\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        loadLikes();\r\n        countLikes();\r\n    })\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"post\">\r\n                <div className=\"post-header\">\r\n                    <div className=\"post-header-left\">\r\n                        {\r\n                            userProfileUrl === '' ?\r\n                                <Avatar className=\"post-header-avtar\" alt={userName} src='/unknown' /> :\r\n                                <Avatar className=\"post-header-avtar\" alt={userName} src={userProfileUrl} />\r\n\r\n                        }\r\n                        <h5>{userName}</h5>\r\n                    </div>\r\n                    <div className=\"post-header-right\">\r\n                        {\r\n                            deletePost ? <button onClick={deletePostFromProfile}>Delete Post</button> : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"post-photo\">\r\n                    <img className=\"post-photo-style\" src={userPostUrl} alt=\"\" />\r\n                </div>\r\n                <div className=\"post-footer\">\r\n                    {\r\n                        loading ? <>\r\n                            <div>\r\n                                <Rating defaultValue={defaulValue} max={1} onChange={handleLikes} icon={<FavoriteIcon fontSize=\"inherit\" />} style={{ color: \"red\" }} />\r\n                                <span>{numberOfLike} Likes</span>\r\n                            </div>\r\n                        </>\r\n                            : null\r\n                    }\r\n                    <h4><strong>{userName}</strong>   {userCaption}</h4>\r\n                </div>\r\n                <div className=\"show-comment\">\r\n                    {\r\n                        loading ?\r\n                            <>\r\n                                {\r\n                                    moreComment ?\r\n                                        <>\r\n                                            <div>\r\n                                                <button className=\"comment-btn\" onClick={() => setMoreComment(false)}>View all {comment.length} comments</button>\r\n                                            </div>\r\n                                            {\r\n                                                comment.slice(0, 2).map((item) => {\r\n                                                    return (\r\n                                                        <h5><strong>{item.userName}</strong> {item.comment}</h5>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </> :\r\n                                        <>\r\n                                            {\r\n                                                comment.length > 2 ? <div>\r\n                                                    <button className=\"comment-btn\" onClick={() => setMoreComment(true)}>View less comments</button>\r\n                                                </div> : null\r\n                                            }\r\n                                            {\r\n                                                comment.map((item) => {\r\n                                                    return (\r\n                                                        <h5><strong>{item.userName}</strong> {item.comment}</h5>\r\n                                                    )\r\n                                                })\r\n\r\n                                            }\r\n                                        </>\r\n                                }\r\n                            </>\r\n                            : null\r\n\r\n                    }\r\n                </div>\r\n                <div className=\"post-comment\">\r\n                    <input type=\"text\" className=\"input-field\" placeholder=\"Add Comment\" value={addComment} onChange={(e) => setAddComment(e.target.value)} />\r\n                    <button className=\"btn\" onClick={handleCommentUpload}>Post</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Post","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AppContext } from './context';\r\nimport { auth } from './firebase';\r\nimport './Home.css';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { db } from './firebase';\r\nimport Post from './Post';\r\n\r\nconst Home = () => {\r\n\r\n    let { user, userPhoto, dispatcher } = useContext(AppContext);\r\n    let [postItem, setPostItem] = useState([]);\r\n    let history = useHistory();\r\n    let [loading, setLoading] = useState(false);\r\n\r\n    const loadImage = () => {\r\n        if (user) {\r\n\r\n            let item = []\r\n            db.collection(\"Profile\").onSnapshot((snapshot) => {\r\n                snapshot.forEach((doc) => {\r\n                    if (doc.id === user.email)\r\n                        item.push(doc.data());\r\n\r\n                })\r\n\r\n                try {\r\n                    dispatcher({ type: \"SET_PROFILE_PIC\", payload: item[0].image })\r\n                } catch (e) {\r\n\r\n                }\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const loadPost = () => {\r\n        let items = []\r\n        db.collection(\"Post\").orderBy(\"time\",\"desc\").onSnapshot((snapshot) => {\r\n            snapshot.forEach((doc) => {\r\n                items.push({\r\n                    id:doc.id,\r\n                    data:doc.data()\r\n                })\r\n            })\r\n            setPostItem(items);\r\n            setLoading(true);\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        loadImage();\r\n        loadPost();\r\n    }, [])\r\n\r\n    if (user) {\r\n        return (\r\n            <>\r\n            <div className=\"home\">\r\n\r\n\r\n                <div className=\"home-header\">\r\n                    <div className=\"home-logo\">\r\n                        <img className=\"instagram-logo\" src=\"logo.png\" alt=\"instagram\" />\r\n                    </div>\r\n                    <div className=\"home-profile\">\r\n                        <NavLink className=\"profile-navlink\" to=\"/profile\">\r\n                            {\r\n                                userPhoto === undefined ?\r\n                                <Avatar className=\"avtar\" alt={user.displayName} src='/unknown' /> :\r\n                                <Avatar className=\"avtar\" alt={user.displayName} src={userPhoto} />\r\n                            }\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"post-container\">\r\n                    {\r\n                        loading?\r\n                        postItem.map((item) => {\r\n                            return (\r\n                                <>\r\n                                    <Post key={item.id} postId={item.id} item={item.data} />\r\n                                </>\r\n                            )\r\n                        }):null\r\n                    }\r\n                </div>\r\n\r\n                    </div>\r\n            </>\r\n\r\n        )\r\n    } else {\r\n        return (\r\n            <>\r\n                {history.push('/')}\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Home;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { AppContext } from './context';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nimport './ProfileBio.css';\r\n\r\n\r\nconst ProfileBio = (props) => {\r\n\r\n\r\n    let { user, userPhoto, dispatcher } = useContext(AppContext);\r\n\r\n\r\n    let { postItem } = props;\r\n\r\n    let [status, setStatus] = useState(0);\r\n\r\n    console.log(postItem)\r\n\r\n    let boolean;\r\n    if (postItem == undefined) {\r\n        boolean = true;\r\n    }\r\n\r\n\r\n    const check = () => {\r\n\r\n        if (boolean) {\r\n            setStatus(0)\r\n        } else {\r\n            setStatus(postItem.length)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        check();\r\n    }, [postItem])\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"profileBio\">\r\n                <div className=\"profileBio-container\">\r\n\r\n                    <div className=\"profileBio-picture\">\r\n                        {\r\n                            userPhoto === undefined ?\r\n                                <Avatar className=\"profile-avtar\" alt={user.displayName} src='/unknown' /> :\r\n                                <Avatar className=\"profile-avtar\" alt={user.displayName} src={userPhoto} />\r\n                        }\r\n                    </div>\r\n                    <div className=\"profileBio-post\">\r\n\r\n                        <h3>{status} Posts</h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileBio;","import React, { useCallback, useContext, useEffect, useState } from 'react';\r\nimport { AppContext } from './context';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport './Profile.css';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { auth, storage, db } from './firebase';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ProfileBio from './ProfileBio';\r\nimport firebase from 'firebase';\r\nimport Post from './Post';\r\n\r\n\r\n\r\n// modal start\r\n\r\n\r\nfunction getModalStyle() {\r\n    const top = 50\r\n    const left = 50\r\n\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        position: 'absolute',\r\n        width: 350,\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n}));\r\n\r\n// modal end\r\n\r\n\r\n\r\nconst Profile = () => {\r\n\r\n    let { user, dispatcher, userPhoto ,profilePosts} = useContext(AppContext);\r\n\r\n    let [open, setOpen] = useState(false);\r\n    let [image, setImage] = useState('');\r\n    let [openModal, setOpenModal] = useState(false);\r\n    let [caption, setCaption] = useState('');\r\n    let [post, setPost] = useState('');\r\n    let [loading, setLoading] = useState(false);\r\n    let [postItem, setPostItem] = useState();\r\n    let history = useHistory();\r\n\r\n\r\n    const classes = useStyles();\r\n    const [modalStyle] = useState(getModalStyle);\r\n\r\n    const logout = () => {\r\n        auth.signOut();\r\n        dispatcher({ type: \"LOGOUT\" })\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n    }\r\n\r\n    const handleCloseModal = () => {\r\n        setOpenModal(false);\r\n    }\r\n\r\n\r\n\r\n    const loadImage = () => {\r\n        if (user) {\r\n\r\n            let item = []\r\n            db.collection(\"Profile\").onSnapshot((snapshot) => {\r\n                snapshot.forEach((doc) => {\r\n                    if (doc.id === user.email)\r\n                        item.push(doc.data());\r\n\r\n                })\r\n\r\n                try {\r\n                    dispatcher({ type: \"SET_PROFILE_PIC\", payload: item[0].image })\r\n                } catch (e) {\r\n\r\n                }\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const loadPost = () => {\r\n\r\n        db.collection(\"Post\").where(\"userEmail\", \"==\", user.email).orderBy(\"time\", \"desc\").onSnapshot((snapshot) => {\r\n            let items = []\r\n            console.log(\"dobule\")\r\n            snapshot.forEach((doc) => {\r\n                items.push({\r\n                    id: doc.id,\r\n                    data: doc.data()\r\n                });\r\n            })\r\n            setPostItem(items);\r\n            setLoading(true);\r\n            dispatcher({type:\"SET_PROFILE_POST\",payload:items})\r\n        })\r\n    }\r\n\r\n\r\n\r\n    const handleUpload = () => {\r\n        const uploadTask = storage.ref(`ProfilePic/${image.name}`).put(image);\r\n\r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            () => {\r\n                storage\r\n                    .ref(\"ProfilePic\")\r\n                    .child(image.name)\r\n                    .getDownloadURL()\r\n                    .then(url => {\r\n\r\n                        let newData = {\r\n                            image: url,\r\n                        }\r\n\r\n                        db.collection('Profile').doc(user.email).set(newData)\r\n                        loadImage();\r\n                        setOpen(false);\r\n                    })\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n\r\n    const handleChange = (e) => {\r\n        if (e.target.files[0]) {\r\n            setImage(e.target.files[0]);\r\n        }\r\n    }\r\n    \r\n\r\n    let arr=[]\r\n\r\n    const handlePostUpload = (e) => {\r\n        e.preventDefault();\r\n \r\n        let uploadTask = storage.ref(\"Post/\" + post.name).put(post);\r\n\r\n\r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            () => {\r\n                storage.ref(\"Post\").child(post.name).getDownloadURL().then((url) => {\r\n\r\n                    let userPic\r\n                    if (userPhoto === undefined) {\r\n                        userPic = \"\"\r\n                    } else {\r\n                        userPic = userPhoto\r\n                    }\r\n\r\n\r\n                    let newData = {\r\n                        time: firebase.firestore.FieldValue.serverTimestamp(),\r\n                        userCaption: caption,\r\n                        userEmail: user.email,\r\n                        userName: user.displayName,\r\n                        userPostUrl: url,\r\n                        userProfileUrl: userPic\r\n                    }\r\n\r\n                    arr.push(newData)\r\n                 \r\n                    console.log(\"this\",arr)\r\n\r\n                    if(arr.length===2){\r\n\r\n                        let [data]=arr;\r\n                        db.collection(\"Post\").doc(new Date().getTime().toString()).set(data);\r\n                        setCaption('');\r\n                        setPost('');\r\n                        setOpenModal(false)  \r\n                        loadPost();\r\n                        arr=[];\r\n                        \r\n                    }\r\n                   \r\n                })\r\n            }\r\n            )\r\n\r\n    }\r\n\r\n    const handlePostChange = (e) => {\r\n        if (e.target.files[0]) {\r\n            setPost(e.target.files[0])\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        loadImage();\r\n        loadPost();\r\n    }, [])\r\n\r\n\r\n    return (\r\n        user ?\r\n            <>\r\n                <Modal\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"simple-modal-title\"\r\n                    aria-describedby=\"simple-modal-description\"\r\n                >\r\n                    <div style={modalStyle} className={classes.paper}>\r\n                        <div className=\"modal\">\r\n                            <input type=\"file\" onChange={handleChange} className=\"input-field\" />\r\n                            <button className=\"btn\" onClick={handleUpload}>Done</button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </Modal>\r\n\r\n\r\n                <Modal\r\n                    open={openModal}\r\n                    onClose={handleCloseModal}\r\n                    aria-labelledby=\"simple-modal-title\"\r\n                    aria-describedby=\"simple-modal-description\"\r\n                >\r\n                    <div style={modalStyle} className={classes.paper}>\r\n                        <form className=\"modal\" onSubmit={handlePostUpload}>\r\n                            <input className=\"input-field caption-field\" placeholder=\"Enter Caption\" type=\"text\" value={caption} onChange={(e) => setCaption(e.target.value)} />\r\n                            <input type=\"file\" className=\"input-field\" onChange={handlePostChange} />\r\n                            <button type=\"submit\" className=\"btn\" >Upload Post</button>\r\n                        </form>\r\n                    </div>\r\n                </Modal>\r\n\r\n                <div className=\"profile\">\r\n                    <div className=\"profile-header\">\r\n                        <div className=\"profile-header-left\">\r\n                            <h2>@{user.displayName}</h2>\r\n                        </div>\r\n                        <div className=\"profile-header-right\">\r\n                            <NavLink className=\"navlink-style navlink-div \" to=\"/home\">\r\n                                <HomeIcon className=\"profile-header-icon\" />\r\n                            </NavLink>\r\n                            <NavLink onClick={logout} className=\"navlink-style navlink-div\" to=\"/\">\r\n                                <h2>Log Out</h2>\r\n                            </NavLink>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    {\r\n                        loading ? <ProfileBio postItem={profilePosts}></ProfileBio> : <ProfileBio></ProfileBio>\r\n                    }\r\n\r\n\r\n                    <div className=\"profile-update\">\r\n                        <button onClick={() => setOpen(true)} className=\"btn\">Change Profile Picture</button>\r\n                        <button onClick={() => setOpenModal(true)} className=\"btn\">Add Post</button>\r\n                    </div>\r\n\r\n                    <div className=\"post-container\">\r\n                        {\r\n                            loading ?\r\n                                profilePosts.map((item) => {\r\n                                    return (\r\n                                        <>\r\n                                            <Post key={item.id} postId={item.id} deletePost={true} item={item.data} />\r\n                                        </>\r\n                                    )\r\n                                }) : null\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </> :\r\n\r\n            <>\r\n                {\r\n                    history.push('/')\r\n                }\r\n            </>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { useContext, useEffect } from 'react';\nimport { Route,Switch } from 'react-router';\nimport './App.css';\nimport { AppContext } from './context';\nimport { auth } from './firebase';\nimport Signin from './Signin';\nimport Signup from './Signup';\nimport Home from './Home';\nimport Profile from './Profile';\n\n\nfunction App() {\n\n  let {dispatcher,user}=useContext(AppContext);\n\n  useEffect(()=>{\n    auth.onAuthStateChanged((user)=>{\n      dispatcher({type:\"SET_USER\",payload:user});\n    })\n  },[])\n\n  return (\n    <>\n    <Switch>\n      <Route exact path='/' component={Signin}></Route>\n      <Route exact path='/signup' component={Signup}></Route>\n      <Route exact path='/home' component={Home}></Route>\n      <Route exact path='/profile' component={Profile}></Route>\n    </Switch>\n    </>\n  )\n}\n\nexport default App;\n","import React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { AppProvider } from './context';\n\nReactDOM.render(\n  <StrictMode>\n    <BrowserRouter>\n      <AppProvider>\n        <App />\n      </AppProvider>\n    </BrowserRouter>\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}